{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/LoaderSpinner/LoaderSpinner.module.css","services/pixabay.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGalerry.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/LoaderSpinner/LoadSpinner.js","components/Modal/Modal.js","components/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","fetchImagesApi","searchQuery","page","fetch","then","response","ok","json","Promise","reject","Error","propTypes","PropTypes","string","isRequired","number","ImageGalleryItem","imagesUrl","imagesAlt","imageId","onClick","className","styles","GalleryItem","GalleryImage","src","alt","id","ImageGallery","images","onOpenModal","console","log","Gallery","map","image","webformatURL","tags","Searchbar","state","handleSubmit","event","preventDefault","trim","toast","error","props","onSubmit","setState","handleInput","currentTarget","value","toLowerCase","Form","this","type","Button","style","width","height","Input","onChange","autoComplete","autoFocus","placeholder","Component","onClickLoadMore","LoaderSpinner","Loader","color","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","code","onCloseModal","handleBackdropClick","target","window","addEventListener","removeEventListener","children","createPortal","Backdrop","Status","App","imagesArray","showModal","imagesModal","status","handleFormSubmit","resetPage","handleLoadMoreBtn","prevState","toggleModal","prevProps","prevSearchQuery","prevPage","hits","length","catch","largeImageURL","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c3b84a33.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"GalleryItem\":\"ImageGalleryItem_GalleryItem__1l3fv\",\"GalleryImage\":\"ImageGalleryItem_GalleryImage__6NQhY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Modal_Backdrop__1MWMP\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Gallery\":\"ImageGallery_Gallery__1WtNX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"LoaderSpinner_Loader__b6ngy\"};","import PropTypes from 'prop-types';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '76488069e41fd1f93b60a63a2';\n\nconst fetchImagesApi = (searchQuery, page) => {\n  return fetch(\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error('Requested images not found!'));\n  });\n};\n\nfetchImagesApi.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n};\n\nexport default fetchImagesApi;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ imagesUrl, imagesAlt, imageId, onClick }) => {\n  return (\n    <li className={styles.GalleryItem} onClick={onClick}>\n      <img\n        className={styles.GalleryImage}\n        src={imagesUrl}\n        alt={imagesAlt}\n        id={imageId}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  imagesUrl: PropTypes.string.isRequired,\n  imagesAlt: PropTypes.string.isRequired,\n  imageId: PropTypes.number.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\nimport propTypes from 'prop-types';\n\nconst ImageGallery = (images, onOpenModal) => {\n  console.log(2, this.images);\n  return (\n    <ul className={styles.Gallery}>\n      {images.map((image) => (\n        <ImageGalleryItem\n          key={image.id}\n          imagesUrl={image.webformatURL}\n          imagesAlt={image.tags}\n          imageId={image.id}\n          onClick={() => {\n            onOpenModal(image);\n          }}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  onOpenModal: propTypes.func,\n  images: propTypes.array,\n};\n\nexport default ImageGallery;\n","import { Component } from 'react';\nimport { BsSearch } from 'react-icons/bs';\n\nimport { toast } from 'react-toastify';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { searchQuery } = this.state;\n    if (searchQuery.trim() === '') {\n      return toast.error('Enter something');\n    }\n\n    this.props.onSubmit(searchQuery);\n    this.setState({ searchQuery: '' });\n  };\n\n  handleInput = (event) => {\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.Form} onSubmit={this.handleSubmit}>\n          <button type='submit' className={styles.Button}>\n            <BsSearch style={{ width: 20, height: 20 }} />\n          </button>\n\n          <input\n            className={styles.Input}\n            type='text'\n            value={this.state.searchQuery}\n            onChange={this.handleInput}\n            autoComplete='off'\n            autoFocus\n            placeholder='Search images and photos'\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import styles from './Button.module.css';\n\nconst Button = ({ onClickLoadMore }) => {\n  return (\n    <button\n      type='button'\n      className={styles.Button}\n      onClick={() => onClickLoadMore()}\n    >\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","import Loader from 'react-loader-spinner';\nimport styles from './LoaderSpinner.module.css';\n\nconst LoaderSpinner = () => {\n  return (\n    <Loader\n      className={styles.Loader}\n      type='ThreeDots'\n      color='#000000'\n      height={80}\n      width={80}\n      timeout={3000}\n    />\n  );\n};\n\nexport default LoaderSpinner;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = (event) => {\n    if (event.code === 'Escape') {\n      this.props.onCloseModal();\n    }\n  };\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.onCloseModal();\n    }\n  };\n\n  render() {\n    const { children } = this.props;\n\n    return createPortal(\n      <div className={styles.Backdrop} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>{children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport fetchImagesApi from \"../services/pixabay.js\";\nimport Container from \"../components/ImageGallery\";\nimport Searchbar from \"../components/Searchbar\";\nimport ImageGallery from \"../components/ImageGallery\";\nimport Button from \"../components/Button\";\nimport LoaderSpinner from \"../components/LoaderSpinner\";\nimport Modal from \"../components/Modal\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n    page: 1,\n    imagesArray: [],\n    showModal: false,\n    imagesModal: {},\n    status: Status.IDLE,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, page } = this.state;\n    const prevSearchQuery = prevState.searchQuery;\n    const prevPage = prevState.page;\n\n    if (prevSearchQuery !== searchQuery || prevPage !== page) {\n      this.setState({ status: Status.PENDING });\n\n      fetchImagesApi(searchQuery, page)\n        .then((images) => {\n          if (images.hits.length === 0) {\n            toast.error(\"Requested images not found!\");\n            this.resetPage();\n          }\n\n          this.setState((prevState) =>\n            page > 1\n              ? {\n                  imagesArray: [...prevState.imagesArray, ...images.hits],\n                  status: Status.RESOLVED,\n                }\n              : { imagesArray: images.hits, status: Status.RESOLVED }\n          );\n        })\n        .catch((error) => {\n          this.setState({ error, status: Status.REJECTED });\n          toast.error(\"Requested images not found!\");\n        });\n    }\n  }\n\n  handleFormSubmit = (searchQuery) => {\n    this.resetPage();\n    this.setState({ searchQuery });\n  };\n\n  resetPage = () => {\n    this.setState({ page: 1 });\n  };\n\n  handleLoadMoreBtn = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  toggleModal = (imagesArray) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      imagesModal: imagesArray,\n    }));\n  };\n\n  render() {\n    const { imagesArray, status, showModal, imagesModal } = this.state;\n    return (\n      <Container>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n\n        {imagesArray.length >= 1 && (\n        <ImageGallery images={imagesArray} onOpenModal={this.toggleModal} />\n        )}\n\n        {status === \"pending\" && <LoaderSpinner />}\n\n        {imagesArray.length >= 12 && (\n          <Button onClickLoadMore={this.handleLoadMoreBtn} />\n        )}\n\n        {showModal && (\n          <Modal onCloseModal={this.toggleModal}>\n            <img src={imagesModal.largeImageURL} alt={imagesModal.tags} />\n          </Modal>\n        )}\n\n        <ToastContainer autoClose={1500} />\n      </Container>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"Form\":\"Searchbar_Form__1p_P8\",\"Button\":\"Searchbar_Button__257ni\",\"Input\":\"Searchbar_Input__3SYi2\"};"],"sourceRoot":""}